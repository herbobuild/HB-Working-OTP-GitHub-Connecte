/*
Generated time: November 25, 2022 12:57
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
!function(){var n={7345:function(e,t,n){"use strict";n.r(t);var i=n(4942),o=n(4558).MinimogSettings;n=window.__i18n||new class{constructor(){var s=this;(0,i.Z)(this,"shop_locale",o.shop_locale?.current||"en"),(0,i.Z)(this,"locales",{default:{date_format:"MM/dd/yyyy",add_button:"Add",added_button:"Added",bundle_button:"Add selected item(s)",bundle_saved:"Saved",bundle_select:"Select",bundle_selected:"Selected",bundle_this_item:"This item",bundle_total:"Total price",checkout:"Checkout",discount_summary:"You will get <strong>{discount_value} OFF</strong> on each product",discount_title:"SPECIAL OFFER",free:"FREE",incart_title:'Customers also bought with "{product_title}"',prepurchase_added:"You just added",prepurchase_title:'Frequently bought with "{product_title}"',qty_discount_note:"on each product",qty_discount_title:"{item_count} item(s) get {discount_value} OFF",sizechart_button:"Size chart",field_name:"Enter your name",field_email:"Enter your email",field_birthday:"Date of birth",discount_noti:"* Discount will be calculated and applied at checkout",fox_discount_noti:"* You are entitled to 1 discount offer of <span>{price}</span> (<span>{discount_title}</span>). This offer <b>can't be combined</b> with any other discount you add here!",bis_open:"Notify me when available",bis_heading:"Back in stock alert üì¨",bis_desc:"We will send you a notification as soon as this product is available again.",bis_submit:"Notify me",bis_email:"Your email",bis_name:"Your name",bis_phone:"Your phone number",bis_note:"Your note",bis_signup:"Email me with news and offers",bis_thankyou:"Thank you! We'll send you an email when this product is available!",preorder_discount_title:"üéÅ Preorder now to get <strong>{discount_value} OFF</strong>",preorder_shipping_note:"üöö Item will be delivered on or before <strong>{eta}</strong>",preorder_end_note:"üî• Preorder will end at <strong>{end_time}</strong>"}}),(0,i.Z)(this,"tr",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{locales:n,shop_locale:i}=s;let o=n[i]?.[e]||n.default[e]||`Foxkit: translation missing for ${e}!`;return Object.keys(t).length&&Object.entries(t).forEach(e=>{var[e,t]=e;return o=o.replace(`{${e}}`,t)}),o}),(0,i.Z)(this,"setLocales",(e,t)=>{this.locales[e]=t})}};window.__i18n=window.__i18n||n,t.default=n},4558:function(e,t,n){"use strict";n.r(t),n.d(t,{MinimogEvents:function(){return i},MinimogTheme:function(){return o},MinimogSettings:function(){return s},MinimogStrings:function(){return r},MinimogLibs:function(){return a}});t=n(8971);window.MinimogEvents=window.MinimogEvents||new t.Z,window._ThemeEvent=window.MinimogEvents;const i=window.MinimogEvents,o=window.MinimogTheme||{},s=window.MinimogSettings||{},r=window.MinimogStrings||{},a=window.MinimogLibs||{}},6295:function(e,t,n){"use strict";n.r(t);n(2422);t.default=new class{constructor(){return this.component=this.component.bind(this),this.component}component(e,t){for(var n=arguments.length,i=new Array(2<n?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if("function"==typeof e)return e({...t,children:i});i=i&&i.filter(e=>null!==e),t&&(t.class&&(t.className=t.class),delete t.children);let s="fragment"!==e?function(e,t){t=t||{};let n=document.createElement(e);try{n=Object.assign(n,t)}catch{var i=Object.keys(t);for(let e=0;e<i.length;e++)"dataSet"!==t[e]&&n.setAttribute(i[e],t[i[e]])}return n}(e,t):document.createDocumentFragment();if(-1!==["svg","path","rect","text","circle","g"].indexOf(e)){s=document.createElementNS("http://www.w3.org/2000/svg",e);for(const a in t){var r="className"===a?"class":a;s.setAttribute(r,t[a])}}for(const l of i)Array.isArray(l)?s.append(...l):s.append(l);if(t?.dataSet)for(const c in t.dataSet)Object.prototype.hasOwnProperty.call(t.dataSet,c)&&(s.dataset[c]=t.dataSet[c]);return t&&!window.__aleartedJSXData&&Object.keys(t).find(e=>e.match(/^data-/))&&(console.trace(`Your "${e}" component uses a data-* attribute! Use dataSet instead!!`),alert("Do not use data-* in your JSX component! Use dataSet instead!! - Check the console.trace for more info"),window.__aleartedJSXData=!0),t?.ref&&("function"==typeof t.ref?t.ref(s):t.ref=s),t?.on&&Object.entries(t.on).forEach(e=>{var[e,t]=e;s.addEventListener(e,t)}),t?.style&&Object.entries(t.style).forEach(e=>{var[e,t]=e;s.style.setProperty(e,t)}),s}}},8971:function(e,t,n){"use strict";n.d(t,{X:function(){return i},Z:function(){return o}});const i=e=>{let{context:t=document.documentElement,event:n="click",selector:i,handler:o,capture:s=!1}=e;function r(t){for(let e=t.target;e&&e!==this;e=e.parentNode)if(e.matches(i)){o.call(e,t,e);break}}return t.addEventListener(n,r,s),()=>{t.removeEventListener(n,r,s)}};class o{constructor(){this.events={}}get evts(){return Object.keys(this.events)}subscribe(e,t){return this.events[e]=this.events[e]||[],this.events[e].push(t),()=>this.unSubscribe(e,t)}unSubscribe(e,t){var n=this.events[e];if(n&&Array.isArray(n))for(let e=0;e<n.length;e++)if(n[e]===t){n.splice(e,1);break}}emit(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.groupCollapsed("Event emitted: "+e),console.trace(),console.groupEnd(),(this.events[e]||[]).forEach(e=>{e(...n)})}}},2422:function(){function t(){var e=Array.prototype.slice.call(arguments),n=document.createDocumentFragment();e.forEach(function(e){var t=e instanceof Node;n.appendChild(t?e:document.createTextNode(String(e)))}),this.appendChild(n)}[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:t})})},643:function(e){var _="complete",g="canceled";function v(e,t,n){Math.max(0,t),Math.max(0,n),e.self===e?e.scrollTo(t,n):(e.scrollLeft=t,e.scrollTop=n)}function w(e){var t=e._scrollSettings;if(t){var n,i,o,s,r,a,l,c,d,u=t.maxSynchronousAlignments,p=(i=e,a=(n=t).align,g=n.target.getBoundingClientRect(),m=a&&null!=a.left?a.left:.5,l=a&&null!=a.top?a.top:.5,c=a&&null!=a.leftOffset?a.leftOffset:0,a=a&&null!=a.topOffset?a.topOffset:0,d=n.isWindow(i)?(h=Math.min(g.width,i.innerWidth),f=Math.min(g.height,i.innerHeight),s=g.left+i.pageXOffset-i.innerWidth*m+h*m,r=g.top+i.pageYOffset-i.innerHeight*l+f*l,s-=c,r-=a,s=n.align.lockX?i.pageXOffset:s,r=n.align.lockY?i.pageYOffset:r,o=s-i.pageXOffset,r-i.pageYOffset):(h=g.width,f=g.height,d=i.getBoundingClientRect(),p=g.left-(d.left-i.scrollLeft),g=g.top-(d.top-i.scrollTop),s=p+h*m-i.clientWidth*m,r=g+f*l-i.clientHeight*l,s-=c,r-=a,s=Math.max(Math.min(s,i.scrollWidth-i.clientWidth),0),r=Math.max(Math.min(r,i.scrollHeight-i.clientHeight),0),s=n.align.lockX?i.scrollLeft:s,r=n.align.lockY?i.scrollTop:r,o=s-i.scrollLeft,r-i.scrollTop),{x:s,y:r,differenceX:o,differenceY:d}),h=Date.now()-t.startTime,m=Math.min(1/t.time*h,1);if(t.endIterations>=u)return v(e,p.x,p.y),e._scrollSettings=null,t.end(_);var f,g=1-t.ease(m);v(e,p.x-p.differenceX*g,p.y-p.differenceY*g),h>=t.time?(t.endIterations++,t.scrollAncestor&&w(t.scrollAncestor),w(e)):(f=w.bind(null,e),"requestAnimationFrame"in window?window.requestAnimationFrame(f):setTimeout(f,16))}}function y(e){return e.self===e}function s(e){return"pageXOffset"in e||(e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth)&&"hidden"!==getComputedStyle(e).overflow}function r(){return!0}function a(e){if(e.assignedSlot)return a(e.assignedSlot);if(e.parentElement)return"BODY"===e.parentElement.tagName?e.parentElement.ownerDocument.defaultView||e.parentElement.ownerDocument.ownerWindow:e.parentElement;if(e.getRootNode){e=e.getRootNode();if(11===e.nodeType)return e.host}}e.exports=function(p,h,t){if(p){"function"==typeof h&&(t=h,h=null),(h=h||{}).time=isNaN(h.time)?1e3:h.time,h.ease=h.ease||function(e){return 1-Math.pow(1-e,e/2)},h.align=h.align||{};for(var e=a(p),n=1,i=h.validTarget||r,o=h.isScrollable,m=(h.debug&&(console.log("About to scroll to",p),e||console.error("Target did not have a parent, is it mounted in the DOM?")),[]);e;)if(h.debug&&console.log("Scrolling parent node",e),i(e,n)&&(o?o(e,s):s(e))&&(n++,m.push(e)),!(e=a(e))){f(_);break}return m.reduce((e,t,n)=>{return o=p,s=t,r=h,t=m[n+1],a=f,n=!s._scrollSettings,c=s._scrollSettings,d=Date.now(),u={passive:!0},c&&c.end(g),c=r.maxSynchronousAlignments,s._scrollSettings={startTime:d,endIterations:0,target:o,time:r.time,ease:r.ease,align:r.align,isWindow:r.isWindow||y,maxSynchronousAlignments:c=null==c?3:c,end:i,scrollAncestor:t},"cancellable"in r&&!r.cancellable||(l=i.bind(null,g),s.addEventListener("touchstart",l,u),s.addEventListener("wheel",l,u)),n&&w(s),l;function i(e){s._scrollSettings=null,s.parentElement&&s.parentElement._scrollSettings&&s.parentElement._scrollSettings.end(e),r.debug&&console.log("Scrolling ended with type",e,"for",s),a(e),l&&(s.removeEventListener("touchstart",l,u),s.removeEventListener("wheel",l,u))}var o,s,r,a,l,c,d,u},null)}function f(e){--n||t&&t(e)}}},4942:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return i}})}},i={};function Z(e){var t=i[e];return void 0!==t||(t=i[e]={exports:{}},n[e](t,t.exports,Z)),t.exports}Z.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Z.d(t,{a:t}),t},Z.d=function(e,t){for(var n in t)Z.o(t,n)&&!Z.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},Z.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};!function(){"use strict";var n=Z(4942);Z(643);var{themeScriptURLs:e,themeStyleURLs:t}=window;e&&t||console.warn("Missing Assest URLs source");var s=Z(4558).MinimogSettings;Z(6295).default;window.__getSectionInstanceByType=t=>window.Shopify.theme.sections.instances.find(e=>e.type===t);const i=e=>e.replace(/[A-Z]/g,e=>"_"+e.toLowerCase());document.querySelector("#scroll-to-top-target");const o=(e,t,n)=>{let i;var o=s["routes"],o=o.root.endsWith("/")?"":o.root;return i=o+`/${e}/`+t,n&&(i+="?"+n),i};var r=Z(6295).default;function a(e){var{wrapper_class:e=""}=e;return r("div",{style:{"--tw-bg-opacity":"0.3"},className:"sf-modal sf-modal__wrapper fixed inset-0 px-5 bg-black flex items-center justify-center transition-opacity opacity-0 duration-200 ease-out "+e},r("div",{className:"sf-modal__content bg-white relative rounded max-h-[90vh]"},r("button",{className:"sf-modal__close text-black absolute p-2 bg-white hover:bg-gray-300 rounded-full z-10"},r("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}))),r("div",{className:"sf-modal__content-inner"})))}var l=Z(8971),c=Z(6295).default;var d=class{constructor(e){var t=this;(0,n.Z)(this,"init",()=>{(0,l.X)({selector:".sf-modal__wrapper",handler:e=>{e?.target!==this.modal&&!e?.target?.closest(".sf-modal__close")||this.close(e)}})}),(0,n.Z)(this,"setSizes",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";t.resetSize(),(t.sizes=e).split(" ").forEach(e=>{t.modalContent?.classList?.add(e)})}),(0,n.Z)(this,"setWidth",e=>{this.modalContent.style.width=e}),(0,n.Z)(this,"resetSize",()=>{this.sizes&&(this.sizes.split(" ").forEach(e=>{this.modalContent?.classList?.remove(e)}),this.sizes="")}),(0,n.Z)(this,"appendChild",e=>{this?.modalContentInner?.appendChild(e),this.children=e}),(0,n.Z)(this,"removeChild",()=>{this?.children?.remove()}),(0,n.Z)(this,"open",()=>{document.documentElement.classList.add("prevent-scroll"),document.body.appendChild(this.modal),setTimeout(()=>this.modal.classList.add("opacity-100")),window.addEventListener("keydown",this.handleKeyDown)}),(0,n.Z)(this,"close",e=>{e?.preventDefault(),this.modal.classList.remove("opacity-100"),window.removeEventListener("keydown",this.handleKeyDown),setTimeout(()=>{this.modal.remove(),this.removeChild(),this.resetSize(),this.modalContent.style.removeProperty("width"),document.documentElement.classList.remove("prevent-scroll")},this.transitionDuration)}),(0,n.Z)(this,"handleKeyDown",e=>{27===e.keyCode&&this.close()}),this.modal=c(a,{wrapper_class:e||void 0}),this.modalContent=this.modal?.querySelector(".sf-modal__content"),this.modalContentInner=this.modal?.querySelector(".sf-modal__content-inner"),this.transitionDuration=200,this.init()}};function p(e,t){var n;return null===t?e:"master"===t?u(e):(n=e.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i))?(e=e.split(n[0]),n=n[0],u(e[0]+"_"+t+n)):null}function u(e){return e.replace(/http(s)?:/,"")}Z(6295).default;const h={mode:"same-origin",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}};function m(){return JSON.parse(JSON.stringify(h))}const f=new Map,g=function(i){let o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:m();return new Promise((t,e)=>{let n=f.get(i);if(n)return t(n);fetch(i,o).then(e=>{n=e.text(),f.set(i,n),t(n)}).catch(e)})};new Map;new Map;const _="${{amount}}";function v(e,t){"string"==typeof e&&(e=e.replace(".",""));let n="";var i=/\{\{\s*(\w+)\s*\}\}/,t=t||_;function o(e,t,n,i){var t=1<arguments.length&&void 0!==t?t:2,n=2<arguments.length&&void 0!==n?n:",",i=3<arguments.length&&void 0!==i?i:".";return isNaN(e)||null==e?0:(t=(e=(e/100).toFixed(t)).split("."))[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+n)+(t[1]?i+t[1]:"")}switch(t.match(i)[1]){case"amount":n=o(e,2);break;case"amount_no_decimals":n=o(e,0);break;case"amount_with_comma_separator":n=o(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":n=o(e,0,".",",")}return t.replace(i,n)}var w=Z(4558).MinimogSettings,y=Z(6295).default,b=Z(7345).default;Z(4558).MinimogTheme;function S(e){return w.routes.root+"products/"+e}String.prototype.capitalize||(String.prototype.capitalize=function(){return this.replace(this[0],this[0]?.toUpperCase?.())});var M=Z(4558).MinimogTheme,N=Z(6295).default,C=Z(4558).MinimogSettings,x=Z(4558).MinimogStrings,E=Z(7345).default;function O(e){let{product:t,recommended_products:n,settings:s}=e;var{item_count:e,total_price:i}=M?.Cart.cart;const{discount:r,active_discount:a}=s;var o,l=N("span",{className:"f-upsell__footer-cart-total"});l.innerHTML=v(i,C.money_format);const{addToCart:c,soldOut:d,viewCart:u}=x;return N("div",{className:"f-upsell"},N("div",{className:"f-upsell__header"},t.featured_image?N("div",{className:"f-upsell__header-image"},N("img",{src:p(t.featured_image,"100x"),alt:""})):"",N("div",{className:"f-upsell__header-info"},N("p",null,N("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",fill:"none",viewBox:"0 0 14 15"},N("path",{fill:"#000",d:"M2.1875 2.96484C3.51823 1.63411 5.1224.96875 7 .96875c1.8776 0 3.4727.66536 4.7852 1.99609 1.3307 1.3125 1.996 2.90756 1.996 4.78516 0 1.8776-.6653 3.4818-1.996 4.8125C10.4727 13.875 8.8776 14.5312 7 14.5312c-1.8776 0-3.48177-.6562-4.8125-1.9687C.875 11.2318.21875 9.6276.21875 7.75c0-1.8776.65625-3.47266 1.96875-4.78516zm8.668.92969C9.79818 2.81901 8.51302 2.28125 7 2.28125s-2.80729.53776-3.88281 1.61328C2.0599 4.95182 1.53125 6.23698 1.53125 7.75s.52865 2.8073 1.58594 3.8828C4.19271 12.6901 5.48698 13.2188 7 13.2188s2.79818-.5287 3.8555-1.586c1.0755-1.0755 1.6133-2.36978 1.6133-3.8828s-.5378-2.79818-1.6133-3.85547zm-.0274 1.94141c.1641.16406.1641.31901 0 .46484L6.125 10.9766c-.16406.164-.31901.164-.46484 0L3.17188 8.48828c-.16407-.16406-.16407-.31901 0-.46484l.6289-.62891c.14583-.14583.30078-.14583.46484 0L5.87891 9.0625l3.88281-3.85547c.14583-.14583.30078-.13672.46488.02735l.6015.60156z"}))," ",E.tr("prepurchase_added")),N("h4",null,t?.title))),N("div",{className:"f-upsell__body"},N("h4",null,E.tr("prepurchase_title",{product_title:t?.title})),a?N("div",{className:"f-upsell__discount mb-4"},N("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"19",fill:"none",viewBox:"0 0 18 19"},N("path",{fill:"#DA3F3F",d:"M17.4375 7.49219C17.8125 8.00781 18 8.59375 18 9.25s-.1875 1.2539-.5625 1.793c-.375.5156-.8555.8789-1.4414 1.0898.2578.5625.3281 1.1719.2109 1.8281-.0937.6329-.375 1.1836-.8437 1.6524-.4688.4687-1.0195.75-1.6524.8437-.6328.1172-1.2421.0469-1.8281-.2109-.1406.3984-.3516.7383-.6328 1.0195-.2812.3047-.6211.5391-1.0195.7032-.37503.1874-.78519.2812-1.2305.2812-.65625 0-1.25391-.1875-1.79297-.5625-.51562-.375-.87891-.8555-1.08984-1.4414-.58594.2578-1.19531.3281-1.82813.2109-.63281-.0937-1.18359-.375-1.65234-.8437-.46875-.4688-.76172-1.0195-.87891-1.6524-.09375-.6562-.01172-1.2656.2461-1.8281C1.41797 11.9219.9375 11.5586.5625 11.043.1875 10.5039 0 9.90625 0 9.25s.1875-1.24219.5625-1.75781c.375-.53906.85547-.91407 1.44141-1.125-.25782-.5625-.33985-1.16016-.2461-1.79297.11719-.65625.41016-1.21875.87891-1.6875.46875-.46875 1.01953-.75 1.65234-.84375.65625-.11719 1.26563-.04688 1.82813.21094.21093-.58594.57422-1.06641 1.08984-1.44141C7.74609.4375 8.34375.25 9 .25s1.2422.1875 1.7578.5625c.5391.375.9141.85547 1.125 1.44141.5625-.25782 1.1602-.32813 1.793-.21094.6562.09375 1.2187.375 1.6875.84375.4687.46875.75 1.03125.8437 1.6875.1172.63281.0469 1.23047-.2109 1.79297.5859.21093 1.0664.58594 1.4414 1.125zM7.52344 6.22656C7.3125 5.99219 7.05469 5.875 6.75 5.875s-.57422.11719-.80859.35156C5.73047 6.4375 5.625 6.69531 5.625 7s.10547.57422.31641.80859c.23437.21094.5039.31641.80859.31641s.5625-.10547.77344-.31641C7.75781 7.57422 7.875 7.30469 7.875 7s-.11719-.5625-.35156-.77344zm-.35156 6.04684l4.85152-4.85152c.2578-.25782.2578-.51563 0-.77344l-.4218-.42188c-.2578-.25781-.5157-.25781-.7735 0L5.97656 11.0781c-.25781.2578-.25781.5157 0 .7735l.42188.4218c.25781.2578.51562.2578.77344 0zm3.26952.0352c.2344.2109.5039.3164.8086.3164.3047 0 .5625-.1055.7734-.3164.2344-.2344.3516-.5039.3516-.8086 0-.3047-.1172-.5625-.3516-.7734-.2109-.2344-.4687-.3516-.7734-.3516-.3047 0-.5742.1172-.8086.3516-.2109.2109-.3164.4687-.3164.7734 0 .3047.1055.5742.3164.8086z"})),(i=r,o=y("span",null),i="PERCENTAGE"===i?.type?i?.value+"%":v(100*i?.value*Number(window.Shopify?.currency?.rate||1),w.money_format),o.innerHTML=b.tr("discount_summary",{discount_value:i}),o)):"",N("div",{className:"f-upsell__products"},n?.length&&n?.map(e=>{var t=N("div",{className:"f-upsell__product-prices prod__price"}),{price_max:n,price_min:i,available:o}=e,n=(t.innerHTML=n===i?v(n,C.money_format):"from "+v(i,C.money_format),e.selected_or_first_available_variant),i=e.has_only_default_variant&&"default title"===n.title.toLowerCase();return N("div",{className:"f-upsell__product sf-prod__block",dataSet:{view:"card"}},N("form",{className:"f-upsell__product-inner product-form form",noValidate:!0,dataSet:{productId:e.id,productHandle:e.handle}},N("input",{type:"hidden",name:"form_type",value:"product"}),N("input",{type:"hidden",name:"utf8",value:"‚úì"}),N("input",{type:"hidden",name:"id",value:n.id}),N("input",{type:"hidden",name:"source_event",value:"prepurchase-upsell"}),a?N("input",{type:"hidden",name:"properties[_foxDiscount]",value:`{"discount_value": ${r.value}, "discount_type": "${r.type}", "offer_id": "${s._id}", "plugin": "PrePurchase"}`}):"",N("div",{className:"f-upsell__product-image spc__main-img"},N("a",{href:S(e.handle)},N("img",{src:e.featured_image?p(e.featured_image,"300x"):"https://dummyimage.com/300x/ddd/aaa",alt:e.title}))),N("div",{className:"f-upsell__product-info"},N("h3",{className:"h4"},N("a",{href:S(e.handle)},e.title)),t,i?"":N("div",{className:"f-upsell__product-options"},N("select",{className:"sf-product-variant-option-dropdown form-control combined-variant"},e.variants?.map(e=>N("option",{value:e.id,disabled:!e.available},e?.title)))),N("button",{type:"submit",className:"add-to-cart sf__btn sf__btn-primary btn-atc relative",disabled:!o},N("span",{className:"atc-spinner inset-0 absolute items-center justify-center"},N("svg",{className:"animate-spin medium",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},N("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),N("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))),N("span",{className:"atc-text"},o?c:d)))))}))),N("div",{className:"f-upsell__footer"},N("div",{className:"f-upsell__footer-cart"},N("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"21",fill:"none",viewBox:"0 0 18 21"},N("path",{fill:"#000",d:"M13.75 5.5h3.75v11.875c0 .8594-.3125 1.5885-.9375 2.1875-.599.625-1.3281.9375-2.1875.9375H3.125c-.85938 0-1.60156-.3125-2.226562-.9375C.299479 18.9635 0 18.2344 0 17.375V5.5h3.75c0-1.38021.48177-2.55208 1.44531-3.51562C6.1849.994792 7.36979.5 8.75.5c1.3802 0 2.5521.494792 3.5156 1.48438C13.2552 2.94792 13.75 4.11979 13.75 5.5zm-2.8125-2.1875c-.599-.625-1.32812-.9375-2.1875-.9375s-1.60156.3125-2.22656.9375C5.92448 3.91146 5.625 4.64062 5.625 5.5h6.25c0-.85938-.3125-1.58854-.9375-2.1875zM15.625 17.375v-10H13.75v1.5625c0 .26042-.0911.48177-.2734.66406-.1823.18229-.4037.27344-.6641.27344s-.4818-.09115-.6641-.27344c-.1823-.18229-.2734-.40364-.2734-.66406V7.375h-6.25v1.5625c0 .26042-.09115.48177-.27344.66406s-.40364.27344-.66406.27344-.48177-.09115-.66406-.27344S3.75 9.19792 3.75 8.9375V7.375H1.875v10c0 .3385.11719.625.35156.8594.26042.2604.5599.3906.89844.3906h11.25c.3385 0 .625-.1302.8594-.3906.2604-.2344.3906-.5209.3906-.8594z"})),N("span",{className:"f-upsell__footer-cartcount"},e),l||""),N("div",{className:"f-upsell__footer-action"},N("a",{href:C.routes.cart,className:"sf__btn sf__btn-primary"},u))))}var L=Z(6295).default,T=Z(4558).MinimogTheme;window._themeProducts;const k=async e=>{const t={};var n=e.map(async e=>{t[e]=await(async e=>{e=o("products",e,"section_id=product-json"),e=await g(e);if(e&&!/^<!doctype html>/.test(e)){var t=L("div",null),e=(t.innerHTML=e,t.querySelector("script.product-json"));if(e){const n=JSON.parse(e.innerText);if(n)return e=e["dataset"],Object.entries(e).forEach(e=>{var[e,t]=e;return n[i(e)]=["true","false"].indexOf(t)+1?"true"===t:t}),(e=t.querySelector("script.selected-variant-json"))&&(n.selected_variant=JSON.parse(e.innerText)),(e=t.querySelector("script.selected-or-first-available-variant-json"))&&(n.selected_or_first_available_variant=JSON.parse(e.innerText)),n}}return null})(e)});return await Promise.all(n),e.map(e=>t[e])};window._getProductInstances=t=>{let n="string"==typeof t?"handle":"id";return T.Products.productInstances.filter(e=>e.productData?.[n]===t)};var P=Z(4558).MinimogSettings,A=Z(4558).MinimogEvents,j=Z(4558).MinimogTheme,D=Z(6295).default;window.FoxKit=window.FoxKit||{},window.FoxKit.PrePurchase=class{constructor(e){(0,n.Z)(this,"selectors",{container:".f-upsell",productContainer:'[data-section-id="product-template"]',productItem:".f-upsell__product",productOptions:[".f-upsell__product-variant"]}),(0,n.Z)(this,"classes",{}),(0,n.Z)(this,"appURL",P.foxkitAppURL),(0,n.Z)(this,"cartCount",0),(0,n.Z)(this,"cartTotal",0),(0,n.Z)(this,"init",async()=>{A.subscribe?.("ON_ITEM_ADDED",async e=>{e&&"incart-upsell"!==e.source&&(this.product={featured_image:e.featured_image?.url,handle:e.handle,id:e.product_id,title:e.product_title},(e=await this.getOffer(e.product_id))?.ok)&&e?.payload?.prePurchase&&e?.payload?.prePurchase?.recommended_products.length&&(j?.ProductQuickView?.close(),this.settings=e.payload?.prePurchase,this.open())})}),(0,n.Z)(this,"open",async()=>{await this.getProductsJson(),this.component=D(O,{product:this.product,recommended_products:this.products,settings:this.settings,cart:this.cart}),j.Products.initProductForms({context:this.component}).catch(console.error),this.popup.removeChild(),this.popup.appendChild(this.component),this.popup.open()}),(0,n.Z)(this,"getOffer",i=>new Promise((e,t)=>{var n=`${this.appURL}/api/public/?shop=${window.Shopify.shop}&plugin=prePurchase&productId=`+i;fetch(n).then(e=>e.json()).then(e).catch(t)})),(0,n.Z)(this,"getProductsJson",async()=>{this.products=await k(this.settings?.recommended_products)}),this.settings=e,this.domNodes=function(e,t){e=0<arguments.length&&void 0!==e?e:{};let s=1<arguments.length&&void 0!==t?t:document;return Object.entries(e).reduce((e,t)=>{var[t,n]=t,i="string"==typeof n,o=i?"querySelector":"querySelectorAll",n=i?n:n[0];return e[t]=s?.[o]?.(n),!i&&e[t]&&(e[t]=[...e[t]]),e},{})}(this.selectors),this.popup=new d,this.appURL="https://"+this.appURL,this.init()}}}()}();